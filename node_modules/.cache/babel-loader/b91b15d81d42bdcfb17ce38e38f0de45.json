{"ast":null,"code":"import _defineProperty from \"/home/turiya/Google Drive/Coding/Northcoders 12-Week Course/nc-news/nc-news-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/turiya/Google Drive/Coding/Northcoders 12-Week Course/nc-news/nc-news-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/turiya/Google Drive/Coding/Northcoders 12-Week Course/nc-news/nc-news-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/turiya/Google Drive/Coding/Northcoders 12-Week Course/nc-news/nc-news-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/turiya/Google Drive/Coding/Northcoders 12-Week Course/nc-news/nc-news-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/turiya/Google Drive/Coding/Northcoders 12-Week Course/nc-news/nc-news-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/turiya/Google Drive/Coding/Northcoders 12-Week Course/nc-news/nc-news-frontend/src/components/LoginControl.jsx\";\nimport React, { Component } from 'react';\nimport * as api from '../api';\n\nvar LoginControl =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LoginControl, _Component);\n\n  function LoginControl() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, LoginControl);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(LoginControl)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      username: '',\n      password: '',\n      userMatch: null\n    };\n\n    _this.handleChange = function (_ref) {\n      var target = _ref.target;\n      var value = target.value,\n          name = target.name;\n      return _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.handleLogin = function (e) {\n      e.preventDefault();\n      return api.fetchUsers().then(function (users) {\n        var userMatch = users.filter(function (user) {\n          return user.username === _this.state.username;\n        })[0];\n\n        _this.setState({\n          userMatch: userMatch,\n          username: '',\n          password: ''\n        });\n\n        return _this.props.logInUser(_this.state.userMatch);\n      });\n    };\n\n    _this.handleLogout = function (e) {\n      e.preventDefault();\n      return _this.props.logInUser(null);\n    };\n\n    return _this;\n  }\n\n  _createClass(LoginControl, [{\n    key: \"render\",\n    value: function render() {\n      if (!this.props.loggedInUser) {\n        return React.createElement(\"div\", {\n          className: \"login_control\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 15\n          },\n          __self: this\n        }, React.createElement(\"h4\", {\n          id: \"login_title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 16\n          },\n          __self: this\n        }, React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 16\n          },\n          __self: this\n        }, \"Login\")), React.createElement(\"form\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 17\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          for: \"username\",\n          id: \"username_label\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 18\n          },\n          __self: this\n        }, \"Username:\"), React.createElement(\"input\", {\n          id: \"username\",\n          type: \"text\",\n          width: \"50px\",\n          name: \"username\",\n          onChange: this.handleChange,\n          value: this.state.username,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 19\n          },\n          __self: this\n        }), React.createElement(\"label\", {\n          for: \"password\",\n          id: \"password_label\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 20\n          },\n          __self: this\n        }, \"Password:\"), React.createElement(\"input\", {\n          id: \"password\",\n          type: \"password\",\n          name: \"password\",\n          onChange: this.handleChange,\n          value: this.state.password,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 21\n          },\n          __self: this\n        }), React.createElement(\"button\", {\n          className: \"login_button\",\n          onClick: this.handleLogin,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 22\n          },\n          __self: this\n        }, \"Login\"), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 22\n          },\n          __self: this\n        })));\n      } else {\n        return React.createElement(\"div\", {\n          className: \"login_control\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 27\n          },\n          __self: this\n        }, React.createElement(\"h5\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 28\n          },\n          __self: this\n        }, \"Logged in as \", React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 28\n          },\n          __self: this\n        }, this.props.loggedInUser.username)), React.createElement(\"button\", {\n          className: \"login_button\",\n          onClick: this.handleLogout,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 29\n          },\n          __self: this\n        }, \"Logout\"));\n      }\n    }\n  }]);\n\n  return LoginControl;\n}(Component);\n\nexport { LoginControl as default };","map":{"version":3,"sources":["/home/turiya/Google Drive/Coding/Northcoders 12-Week Course/nc-news/nc-news-frontend/src/components/LoginControl.jsx"],"names":["React","Component","api","LoginControl","state","username","password","userMatch","handleChange","target","value","name","setState","handleLogin","e","preventDefault","fetchUsers","then","users","filter","user","props","logInUser","handleLogout","loggedInUser"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport * as api from '../api';\n\nexport default class LoginControl extends Component {\n\n    state = {\n        username: '',\n        password: '',\n        userMatch: null\n    }\n\n    render() {\n        if (!this.props.loggedInUser) {\n            return (\n                <div className=\"login_control\">\n                    <h4 id=\"login_title\"><strong>Login</strong></h4>\n                    <form >\n                        <label for=\"username\" id=\"username_label\">Username:</label>\n                        <input id=\"username\" type=\"text\" width=\"50px\" name=\"username\" onChange={this.handleChange} value={this.state.username} />\n                        <label for=\"password\" id=\"password_label\">Password:</label>\n                        <input id=\"password\" type=\"password\" name=\"password\" onChange={this.handleChange} value={this.state.password} />\n                        <button className=\"login_button\" onClick={this.handleLogin}>Login</button><br />\n                    </form>\n                </div>\n            )\n        } else {\n            return <div className=\"login_control\">\n                <h5>Logged in as <strong>{this.props.loggedInUser.username}</strong></h5>\n                <button className=\"login_button\" onClick={this.handleLogout}>Logout</button>\n            </div>\n        }\n    }\n\n    handleChange = ({ target }) => {\n        const { value, name } = target;\n        return this.setState({\n            [name]: value\n        })\n    }\n\n    handleLogin = (e) => {\n        e.preventDefault();\n        return api.fetchUsers()\n            .then((users) => {\n                const userMatch = users.filter((user) => {\n                    return user.username === this.state.username;\n                })[0];\n                this.setState({\n                    userMatch, username: '', password: ''\n                });\n                return this.props.logInUser(this.state.userMatch)\n            })\n    }\n\n    handleLogout = (e) => {\n        e.preventDefault();\n        return this.props.logInUser(null)\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}