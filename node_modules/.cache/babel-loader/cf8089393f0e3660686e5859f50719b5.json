{"ast":null,"code":"import _classCallCheck from \"/home/turiya/Google Drive/Coding/Northcoders 12-Week Course/nc-news/nc-news-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/turiya/Google Drive/Coding/Northcoders 12-Week Course/nc-news/nc-news-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/turiya/Google Drive/Coding/Northcoders 12-Week Course/nc-news/nc-news-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/turiya/Google Drive/Coding/Northcoders 12-Week Course/nc-news/nc-news-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/turiya/Google Drive/Coding/Northcoders 12-Week Course/nc-news/nc-news-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/turiya/Google Drive/Coding/Northcoders 12-Week Course/nc-news/nc-news-frontend/src/components/ArticleAdd.jsx\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport * as api from '../api';\n\nvar ArticleAdd =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ArticleAdd, _Component);\n\n  function ArticleAdd() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ArticleAdd);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ArticleAdd)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      topic: '',\n      title: '',\n      body: ''\n    };\n\n    _this.handleTitleChange = function (event) {\n      var title = event.target.value;\n      return _this.setState({\n        title: title\n      });\n    };\n\n    _this.handleBodyChange = function (event) {\n      var body = event.target.value;\n      return _this.setState({\n        body: body\n      });\n    };\n\n    _this.handlePost = function () {\n      var topic = _this.props.match.params.topic_id;\n      var _this$state = _this.state,\n          title = _this$state.title,\n          body = _this$state.body;\n      var created_by = _this.props.loggedInUser._id;\n      return api.addArticle(title, body, created_by, topic).then(function (_ref) {\n        var data = _ref.data,\n            status = _ref.status;\n        if (status === 201) return React.createElement(Redirect, {\n          to: \"/articles/\".concat(data._doc._id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(ArticleAdd, [{\n    key: \"render\",\n    value: function render() {\n      var topic = this.props.match.params.topic_id;\n      var topicName = topic ? topic.replace(/^\\w/, function (c) {\n        return c.toUpperCase();\n      }) : '';\n      return React.createElement(\"div\", {\n        className: \"article_add_container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"article_add_heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19\n        },\n        __self: this\n      }, \"Post Article\"), React.createElement(\"span\", {\n        className: \"current_topic\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19\n        },\n        __self: this\n      }, \"Topic: \", topicName ? topicName : 'Coding'), this.props.loggedinUser && React.createElement(\"span\", {\n        className: \"posting_as\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20\n        },\n        __self: this\n      }, \"Posting as \", React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20\n        },\n        __self: this\n      }, this.props.loggedinUser.username)), !this.props.loggedInUser && React.createElement(\"span\", {\n        className: \"posting_as\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21\n        },\n        __self: this\n      }, \"Please log in to post\")), React.createElement(\"form\", {\n        className: \"article_add_form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"title_input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23\n        },\n        __self: this\n      }, \"Title:\"), React.createElement(\"textarea\", {\n        onChange: this.handleTitleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23\n        },\n        __self: this\n      })), React.createElement(\"textarea\", {\n        className: \"body_input\",\n        onChange: this.handleBodyChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        className: \"post_button\",\n        disabled: !this.props.loggedInUser ? true : false,\n        onClick: this.handlePost,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }, \"Post\"));\n    }\n  }]);\n\n  return ArticleAdd;\n}(Component);\n\nexport { ArticleAdd as default };\nArticleAdd.propTypes = {\n  loggedinUser: PropTypes.object,\n  match: PropTypes.object.isRequired\n};","map":{"version":3,"sources":["/home/turiya/Google Drive/Coding/Northcoders 12-Week Course/nc-news/nc-news-frontend/src/components/ArticleAdd.jsx"],"names":["React","Component","Redirect","PropTypes","api","ArticleAdd","state","topic","title","body","handleTitleChange","event","target","value","setState","handleBodyChange","handlePost","props","match","params","topic_id","created_by","loggedInUser","_id","addArticle","then","data","status","_doc","catch","err","console","log","topicName","replace","c","toUpperCase","loggedinUser","username","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types'\nimport * as api from '../api';\n\nexport default class ArticleAdd extends Component {\n\n    state = {\n        topic: '',\n        title: '',\n        body: ''\n    }\n\n    render() {\n        const topic = this.props.match.params.topic_id;\n        const topicName = topic ? topic.replace(/^\\w/, c => c.toUpperCase()) : '';\n        return (\n            <div className=\"article_add_container\">\n                <h3 className=\"article_add_heading\">Post Article</h3><span className=\"current_topic\">Topic: {topicName ? topicName : 'Coding'}</span>\n                {this.props.loggedinUser && <span className=\"posting_as\">Posting as <strong>{this.props.loggedinUser.username}</strong></span>}\n                {!this.props.loggedInUser && <span className=\"posting_as\"><strong>Please log in to post</strong></span>}\n                <form className=\"article_add_form\">\n                    <div className=\"title_input\"><label>Title:</label><textarea onChange={this.handleTitleChange} /></div>\n                    <textarea className=\"body_input\" onChange={this.handleBodyChange}></textarea>\n                </form>\n                <button className=\"post_button\" disabled={!this.props.loggedInUser ? true : false} onClick={this.handlePost}>Post</button>\n            </div>\n        )\n    }\n\n    handleTitleChange = (event) => {\n        const title = event.target.value;\n        return this.setState({\n            title\n        })\n    }\n\n    handleBodyChange = (event) => {\n        const body = event.target.value;\n        return this.setState({\n            body\n        })\n    }\n\n    handlePost = () => {\n        const topic = this.props.match.params.topic_id;\n        const { title, body } = this.state;\n        const created_by = this.props.loggedInUser._id;\n        return api.addArticle(title, body, created_by, topic)\n            .then(({ data, status }) => {\n                if (status === 201) return <Redirect to={`/articles/${data._doc._id}`} />\n            })\n            .catch(err => console.log(err))\n    }\n\n}\n\nArticleAdd.propTypes = {\n    loggedinUser: PropTypes.object,\n    match: PropTypes.object.isRequired\n}"]},"metadata":{},"sourceType":"module"}